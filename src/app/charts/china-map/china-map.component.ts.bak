import { Component, OnInit } from '@angular/core';
import 'echarts/map/js/china.js';

@Component({
  selector: 'app-china-map',
  templateUrl: './china-map.component.html',
  styleUrls: ['./china-map.component.scss'],
})

export class ChinaMapComponent implements OnInit {
  days: any = ['01-20', '01-21', '01-22', '01-23', '01-24', '01-25', '01-26', '01-27', '01-28', '01-29', '01-30'];
  province: any = ['湖北', '广东', '浙江', '湖南', '河南', '安徽', '重庆', '山东', '江西',
                   '四川', '江苏', '北京', '福建', '上海', '广西', '河北', '陕西', '云南',
                   '海南', '黑龙江', '辽宁', '山西', '天津', '甘肃', '内蒙古', '新疆', '宁夏',
                   '吉林', '贵州', '青海', '西藏', '澳门', '香港', '台湾'];
  data: any = [
     [270, 14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [375, 26, 5, 1, 1, 0, 5, 1, 2, 2, 0, 10, 0, 9, 0, 0, 0, 1, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [444, 32, 10, 9, 5, 4, 9, 6, 3, 8, 1, 14, 1, 16, 2, 1, 0, 1, 4, 2, 2, 1, 3, 0, 0, 0, 0, 1, 3, 0, 0, 0, 0, 0],
     [549, 53, 43, 24, 9, 15, 27, 9, 7, 15, 9, 26, 5, 20, 13, 2, 3, 2, 8, 4, 4, 1, 5, 2, 1, 2, 2, 3, 3, 0, 0, 1, 2, 0],
     [729, 78, 62, 43, 32, 39, 57, 21, 18, 28, 18, 36, 10, 33, 23, 8, 5, 5, 8, 9, 12, 6, 8, 4, 2, 3, 3, 4, 4, 0, 0, 2, 4, 2],
     [1052, 98, 104, 69, 83, 60, 75, 39, 36, 44, 31, 51, 18, 40, 33, 13, 15, 11, 19, 15, 17, 9, 10, 7, 7, 4, 4, 4, 5, 1, 0, 3, 5, 4],
     [1423, 146, 128, 100, 128, 70, 110, 63, 48, 69, 47, 68, 29, 53, 46, 18, 22, 16, 22, 21, 22, 13, 14, 14, 11, 5, 7, 6, 7, 4, 0, 4, 6, 6],
     [2714, 188, 173, 143, 168, 106, 132, 87, 72, 90, 70, 80, 59, 66, 51, 33, 35, 26, 33,
      30, 27, 20, 23, 19, 13, 10, 10, 8, 9, 6, 0, 6, 8, 7],
     [3354, 241, 296, 221, 206, 152, 147, 121, 109, 108, 99, 91, 82, 80, 58, 48, 46, 51,
         43, 37, 36, 27, 24, 24, 16, 13, 12, 9, 9, 6, 0, 6, 10, 8],
     [4586, 272, 296, 221, 206, 152, 165, 130, 162, 108, 99, 111, 84, 96, 58, 48, 56, 55,
         43, 38, 39, 35, 27, 24, 16, 13, 12, 9, 9, 6, 1, 7, 10, 8],
     [5806, 354, 428, 277, 278, 200, 206, 158, 162, 142, 129, 121, 101, 128, 87, 65, 66,
         76, 46, 44, 45, 39, 31, 29, 18, 14, 17, 14, 12, 8, 1, 7, 12, 9]
    ];
  regionOptions: any;
  constructor() { }

  ngOnInit() {
    this.regionOptions = {
      tooltip: {
        formatter(params) {
          return params.seriesName + '<br />' + params.name + '：' + params.value;
        }
      },
      visualMap: {
        min: 1, // 颜色映射对应的最小值，即对应下面的lightskyblue
        max: 1500, // 颜色映射对应的最大值，即对应下面的orangered
        text: ['严重', '一般'], // 映射图上下标记文本
        realtime: true, // 是否显示拖拽手柄，映射条可以拖拽调整要映射的范围
        calculable: true, // 拖拽时，是否实时更新地图
        inRange: {
          color: ['lightblue', 'yellow', 'orange', 'darkorange', 'red', 'darkred'] // 颜色映射范围，最小值，过渡值，最大值
        },
        show: true// 图注
      },
      geo: {
        map: 'china',
        roam: false, // 不开启缩放和平移
        zoom: 1.23, // 视角缩放比例
        label: {
          normal: {
            show: true,
            fontSize: '10',
            color: 'rgba(0,0,0,0.7)'
          }
        },
        itemStyle: {
          normal: {
            borderColor: 'rgba(0, 0, 0, 0.2)'
          },
          emphasis: {
            areaColor: '#F3B329',
            shadowOffsetX: 0,
            shadowOffsetY: 0,
            shadowBlur: 20,
            borderWidth: 0,
            shadowColor: 'rgba(0, 0, 0, 0.5)'
          }
        }
      },
      series : [
        {
          name: '信息量',
          type: 'map',
          geoIndex: 0,
          data: {}
        }
      ]
    };
  }

}
